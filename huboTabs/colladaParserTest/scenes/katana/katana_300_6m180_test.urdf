<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from katana_300_6m180_test.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="katana_300_6m180" xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller" xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface" xmlns:sensor="http://playerstage.sourceforge.net/gazebo/xmlschema/#sensor" xmlns:xacro="http://ros.org/wiki/xacro">
  <transmission name="katana_motor1_pan_trans" type="pr2_mechanism_model/SimpleTransmission">
    <actuator name="katana_motor1_pan_motor"/>
    <joint name="katana_motor1_pan_joint"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <transmission name="katana_motor2_lift_trans" type="pr2_mechanism_model/SimpleTransmission">
    <actuator name="katana_motor2_lift_motor"/>
    <joint name="katana_motor2_lift_joint"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <transmission name="katana_motor3_lift_trans" type="pr2_mechanism_model/SimpleTransmission">
    <actuator name="katana_motor3_lift_motor"/>
    <joint name="katana_motor3_lift_joint"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <transmission name="katana_motor4_lift_trans" type="pr2_mechanism_model/SimpleTransmission">
    <actuator name="katana_motor4_lift_motor"/>
    <joint name="katana_motor4_lift_joint"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <transmission name="katana_motor5_wrist_roll_trans" type="pr2_mechanism_model/SimpleTransmission">
    <actuator name="katana_motor5_wrist_roll_motor"/>
    <joint name="katana_motor5_wrist_roll_joint"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <transmission name="katana_r_finger_trans" type="pr2_mechanism_model/SimpleTransmission">
    <actuator name="katana_r_finger_motor"/>
    <joint name="katana_r_finger_joint"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <transmission name="katana_l_finger_trans" type="pr2_mechanism_model/SimpleTransmission">
    <actuator name="katana_l_finger_motor"/>
    <joint name="katana_l_finger_joint"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <gazebo>
    <!-- controller for the 5 arm joints -->
    <controller:gazebo_ros_controller_manager name="gazebo_ros_controller_manager" plugin="libgazebo_ros_controller_manager.so">
      <alwaysOn>true</alwaysOn>
      <updateRate>1000.0</updateRate>
      <interface:audio name="gazebo_ros_controller_manager_dummy_iface"/>
    </controller:gazebo_ros_controller_manager>
    <!-- gripper controller -->
    <controller:gazebo_ros_katana_gripper name="katana_gripper_controller" plugin="libgazebo_ros_katana_gripper.so">
      <alwaysOn>true</alwaysOn>
      <node_namespace>katana</node_namespace>
      <r_finger_joint>katana_r_finger_joint</r_finger_joint>
      <l_finger_joint>katana_l_finger_joint</l_finger_joint>
      <updateRate>1000.0</updateRate>
      <max_torque>0.5</max_torque>
    </controller:gazebo_ros_katana_gripper>
  </gazebo>
  <gazebo reference="katana_base_link">
    <material value="Gazebo/Grey"/>
  </gazebo>
  <gazebo reference="katana_motor1_pan_link">
    <material value="Gazebo/Grey"/>
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="katana_motor2_lift_link">
    <material value="Gazebo/Grey"/>
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="katana_motor3_lift_link">
    <material value="Gazebo/Grey"/>
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="katana_motor4_lift_link">
    <material value="Gazebo/Grey"/>
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="katana_motor5_wrist_roll_link">
    <material value="Gazebo/Grey"/>
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="katana_gripper_link">
    <material value="Gazebo/Grey"/>
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="katana_r_finger_link">
    <material value="Gazebo/Grey"/>
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="katana_l_finger_link">
    <material value="Gazebo/Grey"/>
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="katana_motor1_pan_joint">
    <initial_joint_position>-3.022</initial_joint_position>
  </gazebo>
  <gazebo reference="katana_motor2_lift_joint">
    <initial_joint_position>2.163</initial_joint_position>
  </gazebo>
  <gazebo reference="katana_motor3_lift_joint">
    <initial_joint_position>-2.207</initial_joint_position>
  </gazebo>
  <gazebo reference="katana_motor4_lift_joint">
    <initial_joint_position>-2.026</initial_joint_position>
  </gazebo>
  <gazebo reference="katana_motor5_wrist_roll_joint">
    <initial_joint_position>-2.990</initial_joint_position>
  </gazebo>
  <gazebo reference="katana_r_finger_joint">
    <initial_joint_position>0.3</initial_joint_position>
  </gazebo>
  <gazebo reference="katana_l_finger_joint">
    <initial_joint_position>0.3</initial_joint_position>
  </gazebo>
  <!-- all values from the katana manual -->
  <!-- All inertial values (mass, center of mass and inertia tensor) have been
       calculated from the meshes using MeshLab -->
  <!-- lower + upper joint limits have been calculated using the KNI's GetEncoderMinPos(), GetEncoderMaxPos();
       the velocity limit has been calculated by vel_enc2rad(180); 180 encoders / 10ms is the maximum
       speed limit for all joints, according to the Katana 4D documentation -->
  <!-- the effort limits have been measured experimentally from the maximum effort the Gazebo controller 
       uses in normal conditions -->
  <link name="katana_base_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/katana_base_link.stl"/>
      </geometry>
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/katana_base_link_convex.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.4047990875"/>
      <origin xyz="-0.000327 0.000908 0.058457"/>
      <inertia ixx="0.003000703" ixy="0.000000864" ixz="-0.000011312" iyy="0.002974822" iyz="0.000036294" izz="0.001434739"/>
    </inertial>
  </link>

  <joint name="katana_motor1_pan_joint" type="revolute">
    <!-- Joint 1 in Katana Manual -->
    <parent link="katana_base_link"/>
    <child link="katana_motor1_pan_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.2015"/>
    <axis xyz="0 0 1"/>
    <limit effort="1.5" lower="-3.025528" upper="2.891097" velocity="2.208932"/>
  </joint>
  <link name="katana_motor1_pan_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 -0.2015"/>
      <geometry>
        <mesh filename="meshes/katana_motor1_pan_link.stl"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.2015"/>
      <geometry>
        <mesh filename="meshes/katana_motor1_pan_link_convex.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.74793301875"/>
      <origin xyz="-0.000410 -0.001285 -0.016774"/>
      <inertia ixx="0.001737241" ixy="0.000000421" ixz="0.000000650" iyy="0.000998782" iyz="0.000016114" izz="0.001349170"/>
    </inertial>
  </link>
  <joint name="katana_motor2_lift_joint" type="revolute">
    <!-- Joint 2 in Katana Manual -->
    <parent link="katana_motor1_pan_link"/>
    <child link="katana_motor2_lift_link"/>
    <origin rpy="1.57079632679 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="0.6" lower="-0.135228" upper="2.168572" velocity="1.190799"/>
  </joint>
  <link name="katana_motor2_lift_link">
    <visual>
      <origin rpy="-1.57079632679 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/katana_motor2_lift_link.stl"/>
      </geometry>
      <!-- <geometry>
          <cylinder length="${link2_length}" radius="0.02"/>
        </geometry>
        <origin rpy="0 ${-M_PI/2} 0" xyz="${link2_length/2} 0 0" /> -->
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="-1.57079632679 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/katana_motor2_lift_link_convex.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.80174941875"/>
      <origin xyz="0.092420 0.005283 0.000172"/>
      <inertia ixx="0.000478252" ixy="0.000081166" ixz="0.000003961" iyy="0.004314636" iyz="0.000000332" izz="0.004625444"/>
    </inertial>
  </link>
  <!-- **************************************************************** -->
  <joint name="katana_base_frame_joint" type="fixed">
    <parent link="katana_base_link"/>
    <child link="katana_base_frame"/>
    <origin rpy="0 0 0" xyz="0 0 0.2015"/>
  </joint>
  <link name="katana_base_frame">
    <!-- This is the reference coordinate system of the arm (the KNI kinematics are specified
         in this frame); there is no actual arm part attached to this link -->
  </link>
</robot>

